<!DOCTYPE html>
<html lang="es">
<head>
   <meta charset="utf-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <meta name="format-detection" content="telephone=no" />
   <meta name="msapplication-tap-highlight" content="no" />
   <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
   <meta name='author' href="https://github.com/juliansfreelance" email="jcalderon.code@gmail.com" content='Julio Calderón - Desarrollador Front-end' />
   <meta name="description" content="Herramienta de costos asociados con la atención médica en el contexto de la hipertensión pulmonar tromboembólica crónica o de la Hipertensión Pulmonar por categoria de riesgo (HTP)" />

   <title>AV Calculadora HTP Adempa | Costo Procedimientos por Paciente HAP</title>

   <link rel="icon" type="image/ico" href="images/icon.png" />

   <link rel="stylesheet" href="css/style.css">

   <script src="js/lib/currency.min.js" defer></script>
   <script src="js/lib/alpine.min.js" defer></script>
   <script src="js/components/input.js" defer></script>
   <script src="js/components/pop.js" defer></script>
   <script src="js/components/alert.js" defer></script>
   <script src="js/script.js" defer></script>
</head>
<body class="w-screen h-screen flex flex-col justify-center items-center">
   <section class="slide animate-fade-in animate-duration-slow">

      <header class="w-full px-16 relative z-40">
         <hgroup>
            <span>
               <button class="home-btn animate-pulse-fade-in animate-delay-[600ms]" onclick="slideDiez.openAlert('reset')">
                  <div>
                     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                           d="M9.293 2.293a1 1 0 0 1 1.414 0l7 7A1 1 0 0 1 17 11h-1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6H3a1 1 0 0 1-.707-1.707l7-7Z" />
                     </svg>
                  </div>
               </button>
               <button class="background-btn-gray button-gray-corner-md animate-fade-in-left animate-delay-[600ms]"
                  onclick="slideDiez.jumpToSlide('09')">
                  <div>
                     <svg class="size-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
                     </svg>
                     <h4>Regresar</h4>
                  </div>
               </button>
               <button class="ref-btn animate-fade-in-up animate-delay-[600ms]" onclick="slideDiez.jumpToSlide('13')">
                  <div>
                     <h4>IPP</h4>
                  </div>
               </button>
            </span>
            <div class="titulo animate-fade-in animate-delay-500 animate-duration-slow">
               <h2>Herramienta de costos<br>de la Hipertensión Pulmonar por categoria de riesgo</h2>
               <h3>Costo Procedimientos por Paciente HAP</h3>
            </div>
         </hgroup>
      </header>

      <main class="animate-fade-in-up animate-delay-[800ms] animate-duration-slower">
         <section class="costos">
            <div class="form">
               <table class="thead">
                  <thead>
                     <tr>
                        <th class="font-bold text-base text-orange-400 text-left">Recurso</th>
                        <th class="font-bold text-base text-green-500 text-center">Estadificación riesgo Bajo</th>
                        <th class="font-bold text-base text-text-intermedio text-center">Estadificación riesgo Intermedio</th>
                        <th class="font-bold text-base text-red-500 text-center">Estadificación riesgo Alto</th>
                     </tr>
                  </thead>
               </table>
               <table class="w-fit table-auto">
                  <tbody class="tableHAP overflow-y-scroll block">
                  </tbody>
               </table>
            </div>
            <div class="flex flex-row-reverse justify-end items-center gap-2">
               <button class="btn-caso-ref" onclick="javascript:slideDiez.popUp('recursos-HAP')">
                  <div>
                     <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                     </svg>
                     <h4>Ver referencia</h4>
                  </div>
               </button>
               <div class="label">
                  <h4>Costo anual por paciente HAP</h4>
               </div>
            </div>
         </section>

         <section class="total">
            <div class="form">
               <table class="w-full border-separate border-spacing-x-1 pr-[10px]">
                  <tbody>
                     <tr>
                        <td class="font-bold text-base text-text-500 text-left">TOTAL</td>
                        <td class="bg-green-100 rounded-md"><custom-input name="total-HAP-bajo" type="calc" icon="money"></custom-input></td>
                        <td class="bg-green-100 rounded-md"><custom-input name="total-HAP-intermedio" type="calc" icon="money"></custom-input></td>
                        <td class="bg-green-100 rounded-md"><custom-input name="total-HAP-alto" type="calc" icon="money"></custom-input></td>
                     </tr>
                  </tbody>
               </table>
               <div x-data="sliderRange" class="slider-range">
                  <div class="w-4/5 mx-auto mt-2 pb-4">
                     <div class="text-center text-sm text-text-500 font-bold" x-text="`${prices[value].text}`"></div>
                     <div class="relative flex items-center" :style="`--progress:${progress};--segments-width:${segmentsWidth}`">
                        <div class="content-range" aria-hidden="true" x-cloak></div>
                        <input type="range" min="0" :max="prices.length - 1" x-model="value">
                     </div>
                     <div>
                        <ul>
                           <template x-for="(price, index) in prices" :key="index">
                              <li class="relative"><span class="absolute -translate-x-1/2" x-text="price.money"></span></li>
                           </template>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </section>

      </main>

      <footer>
         <div>
            <article class="animate-fade-in-right animate-delay-[1200ms]">
               <p>Usa el control deslizante para ajustar los totales de cada estadificación de riesgo.</p>
            </article>
            <button class="background-btn-orange button-orange-corner-md animate-pulse-fade-in animate-delay-[1200ms]"
               onclick="javascript:slideDiez.validarForm()">
               <div>
                  <svg class="size-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor">
                     <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                  </svg>
                  <h4>Continuar</h4>
               </div>
            </button>

      </footer>

      <custom-pop type="recursos-HAP" class="hidden z-50"></custom-pop>

      <custom-alert name="alert-reset" class="hidden" type="warning" title="Volver al inicio"
         message="<p> Si vuelves al inicio, se perderán todos los datos suministrados<br>y se <span>reiniciará la calculadora</span>.</p><p>¿Estás seguro de que deseas volver al inicio?</p>"
         actions='[
            {"name": "Aceptar", "color": "orange", "handler": "slideDiez.jumpToSlide(&apos;01&apos;)"},
            {"name": "Cancelar", "color": "gray", "handler": "slideDiez.closeAlert()"}
         ]'>
      </custom-alert>

      <custom-alert name="alert-bd-clear" class="hidden" type="danger" title="Datos no disponibles"
         message="<p> No puede continuar porque no se encontraron <span>datos almacenados</span>.<br>Por favor, verifica la información y vuelve a intentarlo.</p>"
         actions='[{"name": "Aceptar", "color": "orange", "handler": "slideDiez.jumpToSlide(&apos;01&apos;)"}]'>
      </custom-alert>

   </section>

   <script defer>
      document.addEventListener('alpine:init', () => {
         Alpine.data('sliderRange', () => ({
            value: 5,
            prices: [
               {
                  money: '-250K',
                  text: 'Menos $250.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '-200K',
                  text: 'Menos $200.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '-150K',
                  text: 'Menos $150.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '-100K',
                  text: 'Menos $100.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '-50K',
                  text: 'Menos $50.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '0',
                  text: 'Sin modificaciones'
               },
               {
                  money: '+50K',
                  text: 'Más $50.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '+100K',
                  text: 'Más $100.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '+150K',
                  text: 'Más $150.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '+200K',
                  text: 'Más $200.000 COP para los totales de cada estadificación de riesgo.'
               },
               {
                  money: '+250K',
                  text: 'Más $250.000 COP para los totales de cada estadificación de riesgo.'
               },
            ],
            segmentsWidth: '100%',
            progress: '0%',
            segments: 1,
            calculateProgress() {
               this.segmentsWidth = 100 / this.segments + '%'
               this.progress = 100 / this.segments * this.value + '%'
               typeof slideDiez !== 'undefined' ? slideDiez.updateTotales(this.prices[this.value], this.value) : setTimeout(() => { slideDiez.updateTotales(this.prices[this.value], this.value) }, 3000);
            },
            updateValue(newValue) {
               this.value = newValue;
               this.calculateProgress();
            },
            init() {
               this.segments = this.prices.length - 1
               this.calculateProgress()
               this.$watch('value', () => this.calculateProgress());
               window.updateSliderValue = (newValue) => this.updateValue(newValue);
            },
         }))
      })
   </script>

</body>
</html>